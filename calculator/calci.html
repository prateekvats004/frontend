<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>calculator</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
	<link rel="stylesheet" href="calci.css">
</head>

<body>
	<div class="parent">

		<div class="child1">
			<h3>Calculator</h3>
			<div>
				<label class="data" id="value"></label>
				<div class="abc">
					<button type="button" id="r" class="button" onclick="getvalue('^')" onkeypress="keyvalue('^')"
						value="^2">x^2</button>
			<button type="button"  class="button" onclick="reset()" >C</button>
					<button type="button" id="t" class="button" onclick="back()" onkeypress="keyvalue('back')"><svg
							xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
							class="bi bi-x-circle-fill" viewBox="0 0 16 16">
							<path
								d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z" />
						</svg></button>
					<button type="button" class="button" id="a" onclick="getvalue('/')" onkeypress="keyvalue('/')"
						value="/">/</button>
					<input type="button" class="button" id="b" onclick="getvalue('7')" onkeypress="keyvalue('7')" value=7>
					<input type="button" class="button" id="c" onclick="getvalue('8')" onkeypress="keyvalue('8')" value=8>
					<input type="button" class="button" id="d" onclick="getvalue('9')" onkeypress="keyvalue('9')" value=9>
					<button type="button" class="button" id="e" onclick="getvalue('*')" onkeypress="keyvalue('*')"
						value="*">*</button>
					<input type="button" class="button" id="f" onclick="getvalue('4')" onkeypress="keyvalue('4')" value=4>
					<input type="button" class="button" id="g" onclick="getvalue('5')" onkeypress="keyvalue('5')" value=5>
					<input type="button" class="button" id="h" onclick="getvalue('6')" onkeypress="keyvalue('6')" value=6>
					<button type="button" class="button" id="i" onclick="getvalue('-')" onkeypress="keyvalue('-')"
						value="-">-</button>
					<input type="button" class="button" id="j" onclick="getvalue('1')" onkeypress="keyvalue('1')" value=1>
					<input type="button" class="button" id="k" onclick="getvalue('2')" onkeypress="keyvalue('2')" value=2>
					<input type="button" class="button" id="l" onclick="getvalue('3')" onkeypress="keyvalue('3')" value=3>
					<button type="button" class="button" id="m" onclick="getvalue('+')" onkeypress="keyvalue('+')"
						value="+">+</button>
					<input type="button" class="button" id="n" onclick="getvalue('%')" onkeypress="keyvalue('%')" value="%">
					<input type="button" class="button" id="o" onclick="getvalue('0')" onkeypress="keyvalue('0')" value=0>
					<input type="button" class="button" id="p" onclick="getvalue('.')" onkeypress="keyvalue('.')" value=".">
					<button type="button" class="button" id="q" onclick="CalculateResult();" onkeypress="keyvalue('=')"
						value="=">=</button>

				</div>
			</div>
		</div>


		<div class="child2">
			<h3 class="mx-5">History</h3>
			<label class="data" id="history"></label> 
	
	<script>
	
	var str = "";
	var restr;
	var arr = [];
	var one;
	var two;
	var his = "";
	var isResultCalculated = false;
	
	function CalculateResult(){
	document.getElementById("value").innerHTML +=  '=';
	makearray(); 
	result(); 
	history();
	isResultCalculated = true;
	}
	
	function getvalue(input) {
	if(isResultCalculated){
	reset();
	isResultCalculated = false;
	}
	document.getElementById("value").innerHTML +=  input;
			}
			
    function back() {
	var back = document.getElementById("value").innerHTML;
	var backresult = back.slice(0,-1);
	
	document.getElementById("value").innerHTML = backresult;
	}		
	
	function makearray() {
	str = document.getElementById("value").innerHTML;
	restr = str.replace('=', '');
	if(restr.includes("+")){
	 arr = restr.split("+");
	}
	else
	   if(restr.includes("-")){
	 arr = restr.split("-");
	}
	else
	   if(restr.includes("*")){
	 arr = restr.split("*");
	}
	else
	   if(restr.includes("/")){
	 arr = restr.split("/");
	}
	else
	   if(restr.includes("^2")){
	 arr = restr.split("^2");
	}
	else
	if(restr.includes("%")) {
		arr = restr.split("%");
	}
	one = parseFloat(arr[0]);
	two = parseFloat(arr[1]);
	}	
	
	function result() {
	if(restr.includes("+")) {
	  var add = one + two;
	  document.getElementById("value").innerHTML +=  add;
	}
    else
       if(restr.includes("-")) {
	  var sub = one - two;
	  document.getElementById("value").innerHTML +=  sub;
	}
   else
       if(restr.includes("*")) {
	  var mul = one * two;
	  document.getElementById("value").innerHTML +=  mul;
		}
    else
       if(restr.includes("/")) {
	  var div = one / two;
	  document.getElementById("value").innerHTML +=  div;
	}	
    else
       if(restr.includes("^2")) {
	  var square = one * one;
	  document.getElementById("value").innerHTML +=  square;
	}
	else
	if(restr.includes("%")) {
		var reminder = one%two
		document.getElementById("value").innerHTML += reminder;
	}	
	 }
     
	 function history() {
		var story = document.getElementById("value").innerHTML;	
		var acc = story.split("=");		
		 his += acc[0] + "=" + "<br>" + acc[1] + "<br>" + "<br>";
	    document.getElementById("history").innerHTML = his;
	 }
	  
	function reset() {
	document.getElementById("value").innerHTML = "";
	}
	
	function keyvalue(code) {
	if(keyCode == 97) {
	code = 1;
	document.getElementById("value").innerHTML +=  code; 
	}
	}
	</script>
	
	
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
		crossorigin="anonymous"></script>
</body>

</html>